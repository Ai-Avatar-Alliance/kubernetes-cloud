---
description: Deploy Virtual Servers via the Kubernetes CLI
---

# Kubernetes CLI

Virtual Servers are deployed to CoreWeave Cloud as [Custom Resource Definitions (CRDs)](https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/), so the `kubectl` command line tool may be used to deploy Virtual Servers onto CoreWeave Cloud. CRDs may also be edited from the Cloud UI using [the YAML editor on the Virtual Servers deployment page](../../../virtual-servers/deployment-methods/coreweave-apps.md#crd-editor).&#x20;

## Prerequisites

**Before you can access CoreWeave Cloud, you must first** [**request an account**](https://cloud.coreweave.com/signup)**.**

To use the Kubernetes CLI as your deployment method, you will first need to obtain valid access credentials in the form of a `kubeconfig` file. See [Obtain Access Credentials](../../coreweave-kubernetes/getting-started.md#obtain-access-credentials) for more information.

## Configuration examples

CoreWeave provides[ example YAML manifests on GitHub](https://github.com/coreweave/kubernetes-cloud/tree/master/virtual-server/examples/kubectl).

{% embed url="https://github.com/coreweave/kubernetes-cloud/tree/master/virtual-server/examples/kubectl" %}

## Configuration quick reference

The table below is intended as a quick-reference guide for all available configuration options using the Kubernetes CLI deployment method. Learn more about each configuration option in their respective pages under [Virtual Server Configuration Options](../virtual-server-configuration-options/).

| Field                                                                                                                                | Type                                                                                                                      | Description                                                                                                                                                  |
| ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| [`region`](../virtual-server-configuration-options/region-hardware-and-firmware.md#region)                                           | String                                                                                                                    | Defines the region where the Virtual Server is deployed                                                                                                      |
| [`os`](../virtual-server-configuration-options/operating-system-and-root-disk.md#cli)                                                | {}                                                                                                                        | Defines the Operating System type                                                                                                                            |
| [`os.type`](../virtual-server-configuration-options/operating-system-and-root-disk.md#cli)                                           | String                                                                                                                    | The Operating System type - Linux/Windows                                                                                                                    |
| [`affinity`](../virtual-server-configuration-options/node-affinity.md)                                                               | [Affinity](https://pkg.go.dev/k8s.io/kubernetes/pkg/apis/core#Affinity)                                                   | Defines affinity for Virtual Server                                                                                                                          |
| `os.enableUEFIBoot`                                                                                                                  | Boolean                                                                                                                   | Enable the UEFI bootloader                                                                                                                                   |
| [`resources`](../virtual-server-configuration-options/region-hardware-and-firmware.md#hardware-and-resource-configuration-options-1) | {}                                                                                                                        | Defines the resources and devices allocated to the Virtual Server                                                                                            |
| `resources.definition`                                                                                                               | String                                                                                                                    | The resource definition - defaults to 'a'                                                                                                                    |
| `resources.cpu`                                                                                                                      | {}                                                                                                                        | Defines the CPU allocation                                                                                                                                   |
| `resources.cpu.type`                                                                                                                 | String                                                                                                                    | The type of CPU to allocate                                                                                                                                  |
| `resources.cpu.count`                                                                                                                | Int                                                                                                                       | The number of CPU cores to allocate                                                                                                                          |
| `resources.gpu`                                                                                                                      | {}                                                                                                                        | Defines the GPU allocation                                                                                                                                   |
| `resources.gpu.type`                                                                                                                 | String                                                                                                                    | The type of GPU to allocate                                                                                                                                  |
| `resources.gpu.count`                                                                                                                | Int                                                                                                                       | The number of GPU(s) to allocate                                                                                                                             |
| `resources.memory`                                                                                                                   | String                                                                                                                    | The amount of memory to allocate                                                                                                                             |
| [`storage`](broken-reference)                                                                                                        | {}                                                                                                                        | Defines the root storage and additional storage devices                                                                                                      |
| [`storage.root`](../../../virtual-servers/root-disk-lifecycle-management/)                                                           | {}                                                                                                                        | Defines [the root file system PVC](../../../virtual-servers/root-disk-lifecycle-management/)                                                                 |
| `storage.root.size`                                                                                                                  | String                                                                                                                    | The volume size                                                                                                                                              |
| `storage.root.source`                                                                                                                | [DataVolumeSource](https://pkg.go.dev/kubevirt.io/containerized-data-importer-api/pkg/apis/core/v1beta1#DataVolumeSource) | The DataVolume source for the root file system                                                                                                               |
| `storage.root.storageClassName`                                                                                                      | String                                                                                                                    | The storage class name for the root PVC                                                                                                                      |
| `storage.root.volumeMode`                                                                                                            | [String](https://pkg.go.dev/k8s.io/api/core/v1#PersistentVolumeMode)                                                      | The volume mode for the root PVC                                                                                                                             |
| `storage.root.accessMode`                                                                                                            | [String](https://pkg.go.dev/k8s.io/api/core/v1#PersistentVolumeAccessMode)                                                | The access mode name for the root PVC                                                                                                                        |
| `storage.root.ephemeral`                                                                                                             | Boolean                                                                                                                   | Sets whether the root disk is ephemeral                                                                                                                      |
| `storage.additionalDisks`                                                                                                            | \[]                                                                                                                       | A list of PVC references to be added as disk devices                                                                                                         |
| `storage.additionalDisks[ ].name`                                                                                                    | String                                                                                                                    | Name of the disk                                                                                                                                             |
| `storage.additionalDisks[ ].spec`                                                                                                    | [VolumeSource](https://pkg.go.dev/kubevirt.io/client-go/api/v1#VolumeSource)                                              | The VolumeSource for the disk                                                                                                                                |
| `storage.additionalDisks[].readOnly`                                                                                                 | Boolean                                                                                                                   | Whether or not the additional disk is `readOnly`; default is `false`; see: [Read-only additional disks](../../storage/storage/#read-only-additional-disks)   |
| `storage.additionalDisks[].serial`                                                                                                   | String                                                                                                                    | The root disk serial number, when not specified Virtual Server generates serial and preserves between restarts.                                              |
| `storage.filesystems`                                                                                                                | \[]                                                                                                                       | A list of PVC references to be mounted                                                                                                                       |
| `storage.filesystems[ ].name`                                                                                                        | String                                                                                                                    | Name of the mount                                                                                                                                            |
| `storage.filesystems[ ].mountPoint`                                                                                                  | String                                                                                                                    | Desired mount point, defaults to `/mnt` if not specified                                                                                                     |
| `storage.filesystems[ ].spec`                                                                                                        | [VolumeSource](https://pkg.go.dev/kubevirt.io/client-go/api/v1#VolumeSource)                                              | The VolumeSource for the file system mount                                                                                                                   |
| `storage.swap`                                                                                                                       | String                                                                                                                    | Adds swap volume to system in specific size.                                                                                                                 |
| [`users`](../virtual-server-configuration-options/user-accounts.md)                                                                  | \[]                                                                                                                       | A list of users to be added by cloud-init (if supported by the OS)                                                                                           |
| `users[ ].username`                                                                                                                  | String                                                                                                                    | Username for the user                                                                                                                                        |
| `users[ ].password`                                                                                                                  | String                                                                                                                    | Password for the user                                                                                                                                        |
| `users[ ].sshpublickey`                                                                                                              | String                                                                                                                    | An SSH public key for the user                                                                                                                               |
| [`network`](broken-reference)                                                                                                        | {}                                                                                                                        | Defines the network configuration                                                                                                                            |
| `network.directAttachLoadBalancerIP`                                                                                                 | Boolean                                                                                                                   | Directly attach a loadbalancer IP to the Virtual Server                                                                                                      |
| `network.floatingIPs`                                                                                                                | \[]                                                                                                                       | A list of service references to be added as floating IPs                                                                                                     |
| `network.floatingIPs[ ].serviceName`                                                                                                 | String                                                                                                                    | Name of the service                                                                                                                                          |
| `network.tcp`                                                                                                                        | {}                                                                                                                        | Defines the TCP network configuration                                                                                                                        |
| `network.tcp.ports`                                                                                                                  | \[]                                                                                                                       | List of TCP ports to expose                                                                                                                                  |
| `network.udp`                                                                                                                        | {}                                                                                                                        | Defines the UDP network configuration                                                                                                                        |
| `network.udp.ports`                                                                                                                  | \[]                                                                                                                       | List of UDP ports to expose                                                                                                                                  |
| `network.public`                                                                                                                     | Boolean                                                                                                                   | Determines whether a public IP will be assigned                                                                                                              |
| `network.macAddress`                                                                                                                 | String                                                                                                                    | Sets the MAC address for the Virtual Server - if not provided, the Virtual Server generates a unicast/local type MAC address                                 |
| `network.dnsConfig`                                                                                                                  | [PodDNSConfig](https://pkg.go.dev/k8s.io/api/core/v1#PodDNSConfig)                                                        | Defines the DNS parameters of the VS. Defult value is [DNSClusterFirst](https://pkg.go.dev/k8s.io/kubernetes/pkg/apis/core#DNSPolicy).                       |
| `network.dnsPolicy`                                                                                                                  | [DNSPolicy](https://pkg.go.dev/k8s.io/api/core/v1#DNSPolicy)                                                              | Sets the DNS policy for VS. The default value is `ClustrFirst`                                                                                               |
| [`firmware`](../virtual-server-configuration-options/region-hardware-and-firmware.md#firmware)                                       | [Firmware](https://pkg.go.dev/github.com/coreweave/virtual-server/api/v1alpha1#Firmware)                                  | Firmware identification fields                                                                                                                               |
| `firmware.UUID`                                                                                                                      | String                                                                                                                    | UUID reported by the VMI bios; defaults to a randomly generated UUID                                                                                         |
| `firmware.Serial`                                                                                                                    | String                                                                                                                    | The system-serial-number in SMBIOS.                                                                                                                          |
| `cloudInit [¹]`                                                                                                                      | String                                                                                                                    | Define any [cloud-init](https://cloudinit.readthedocs.io/en/latest/) parameters                                                                              |
| [`runStrategy`](../virtual-server-configuration-options/additional-features.md#runstrategy)                                          | [VirtualMachineRunStrategy](https://pkg.go.dev/kubevirt.io/client-go/api/v1#VirtualMachineRunStrategy)                    | Defines the [RunStrategy](https://kubevirt.io/user-guide/virtual\_machines/run\_strategies/#run-strategies) parameter. Default value is `RerunOnFailure`.    |
| [`useVirtioTransitional`](../virtual-server-configuration-options/additional-features.md#usevirtiotransitional)                      | Boolean                                                                                                                   | Enables virtio-transitional to support compatibility with old guest operating systems. Default value is `false`.                                             |
| [`terminationGracePeriodSeconds`](../virtual-server-configuration-options/additional-features.md#terminationgraceperiodseconds)      | Number                                                                                                                    | Specifies the number in seconds before the guest is killed. Allows shutting down operating system gracefully. Defaults to `300` for Windows, `60` for Linux. |
| [`initializeRunning`](../virtual-server-configuration-options/additional-features.md#initializerunning)                              | Boolean                                                                                                                   | Defines whether or not the Virtual Server will be started as soon as it is created and initialized                                                           |
