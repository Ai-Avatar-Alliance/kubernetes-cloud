---
description: Deploy Virtual Servers via the Kubernetes CLI
---

# Kubernetes CLI

Virtual Servers are deployed to CoreWeave Cloud as [Custom Resource Definitions (CRDs)](https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/), so the `kubectl` command line tool may be used to deploy Virtual Servers onto CoreWeave Cloud. CRDs may also be edited from the Cloud UI using [the YAML editor on the Virtual Servers deployment page](../../../virtual-servers/deployment-methods/coreweave-apps.md#crd-editor).&#x20;

## Prerequisites

**Before you can access CoreWeave Cloud, you must first** [**request an account**](https://cloud.coreweave.com/signup)**.**

To use the Kubernetes CLI as your deployment method, you will first need to obtain valid access credentials in the form of a `kubeconfig` file. See [Obtain Access Credentials](../../welcome-to-coreweave/getting-started.md#obtain-access-credentials) for more information.

## Configuration examples

CoreWeave provides[ example YAML manifests on GitHub](https://github.com/coreweave/kubernetes-cloud/tree/master/virtual-server/examples/kubectl).

{% embed url="https://github.com/coreweave/kubernetes-cloud/tree/master/virtual-server/examples/kubectl" %}

## Configuration quick reference

The table below is intended as a quick-reference guide for all available configuration options using the Kubernetes CLI deployment method. Learn more about each configuration option in their respective pages under [Virtual Server Configuration Options](../virtual-server-configuration-options/).

<table><thead><tr><th width="406">Field</th><th width="150">Type</th><th>Description</th></tr></thead><tbody><tr><td><a href="../virtual-server-configuration-options/region-hardware-and-firmware-1.md#region"><code>region</code></a></td><td>String</td><td>Defines the region where the Virtual Server is deployed</td></tr><tr><td><a href="../virtual-server-configuration-options/operating-system-and-root-disk.md#cli"><code>os</code></a></td><td>{}</td><td>Defines the Operating System type</td></tr><tr><td><a href="../virtual-server-configuration-options/operating-system-and-root-disk.md#cli"><code>os.type</code></a></td><td>String</td><td>The Operating System type - Linux/Windows</td></tr><tr><td><a href="../virtual-server-configuration-options/node-affinity.md"><code>affinity</code></a></td><td><a href="https://pkg.go.dev/k8s.io/kubernetes/pkg/apis/core#Affinity">Affinity</a></td><td>Defines affinity for Virtual Server</td></tr><tr><td><code>os.enableUEFIBoot</code></td><td>Boolean</td><td>Enable the UEFI bootloader</td></tr><tr><td><a href="../virtual-server-configuration-options/region-hardware-and-firmware-1.md#hardware-and-resource-configuration-options-1"><code>resources</code></a></td><td>{}</td><td>Defines the resources and devices allocated to the Virtual Server</td></tr><tr><td><code>resources.definition</code></td><td>String</td><td>The resource definition - defaults to 'a'</td></tr><tr><td><code>resources.cpu</code></td><td>{}</td><td>Defines the CPU allocation</td></tr><tr><td><code>resources.cpu.type</code></td><td>String</td><td>The type of CPU to allocate</td></tr><tr><td><code>resources.cpu.count</code></td><td>Int</td><td>The number of CPU cores to allocate</td></tr><tr><td><code>resources.gpu</code></td><td>{}</td><td>Defines the GPU allocation</td></tr><tr><td><code>resources.gpu.type</code></td><td>String</td><td>The type of GPU to allocate</td></tr><tr><td><code>resources.gpu.count</code></td><td>Int</td><td>The number of GPU(s) to allocate</td></tr><tr><td><code>resources.memory</code></td><td>String</td><td>The amount of memory to allocate</td></tr><tr><td><a href="broken-reference"><code>storage</code></a></td><td>{}</td><td>Defines the root storage and additional storage devices</td></tr><tr><td><a href="../../../virtual-servers/root-disk-lifecycle-management/"><code>storage.root</code></a></td><td>{}</td><td>Defines <a href="../../../virtual-servers/root-disk-lifecycle-management/">the root file system PVC</a></td></tr><tr><td><code>storage.root.size</code></td><td>String</td><td>The volume size</td></tr><tr><td><code>storage.root.source</code></td><td><a href="https://pkg.go.dev/kubevirt.io/containerized-data-importer-api/pkg/apis/core/v1beta1#DataVolumeSource">DataVolumeSource</a></td><td>The DataVolume source for the root file system</td></tr><tr><td><code>storage.root.storageClassName</code></td><td>String</td><td>The storage class name for the root PVC</td></tr><tr><td><code>storage.root.volumeMode</code></td><td><a href="https://pkg.go.dev/k8s.io/api/core/v1#PersistentVolumeMode">String</a></td><td>The volume mode for the root PVC</td></tr><tr><td><code>storage.root.accessMode</code></td><td><a href="https://pkg.go.dev/k8s.io/api/core/v1#PersistentVolumeAccessMode">String</a></td><td>The access mode name for the root PVC</td></tr><tr><td><code>storage.root.ephemeral</code></td><td>Boolean</td><td>Sets whether the root disk is ephemeral</td></tr><tr><td><code>storage.additionalDisks</code></td><td>[]</td><td>A list of PVC references to be added as disk devices</td></tr><tr><td><code>storage.additionalDisks[ ].name</code></td><td>String</td><td>Name of the disk</td></tr><tr><td><code>storage.additionalDisks[ ].spec</code></td><td><a href="https://pkg.go.dev/kubevirt.io/client-go/api/v1#VolumeSource">VolumeSource</a></td><td>The VolumeSource for the disk</td></tr><tr><td><code>storage.additionalDisks[].readOnly</code></td><td>Boolean</td><td>Whether or not the additional disk is <code>readOnly</code>; default is <code>false</code>; see: <a href="../../storage/storage/#read-only-additional-disks">Read-only additional disks</a></td></tr><tr><td><code>storage.additionalDisks[].serial</code></td><td>String</td><td>The root disk serial number, when not specified Virtual Server generates serial and preserves between restarts.</td></tr><tr><td><code>storage.filesystems</code></td><td>[]</td><td>A list of PVC references to be mounted</td></tr><tr><td><code>storage.filesystems[ ].name</code></td><td>String</td><td>Name of the mount</td></tr><tr><td><code>storage.filesystems[ ].mountPoint</code></td><td>String</td><td>Desired mount point, defaults to <code>/mnt</code> if not specified</td></tr><tr><td><code>storage.filesystems[ ].spec</code></td><td><a href="https://pkg.go.dev/kubevirt.io/client-go/api/v1#VolumeSource">VolumeSource</a></td><td>The VolumeSource for the file system mount</td></tr><tr><td><code>storage.swap</code></td><td>String</td><td>Adds swap volume to system in specific size.</td></tr><tr><td><a href="../virtual-server-configuration-options/user-accounts.md"><code>users</code></a></td><td>[]</td><td>A list of users to be added by cloud-init (if supported by the OS)</td></tr><tr><td><code>users[ ].username</code></td><td>String</td><td>Username for the user</td></tr><tr><td><code>users[ ].password</code></td><td>String</td><td>Password for the user</td></tr><tr><td><code>users[ ].sshpublickey</code></td><td>String</td><td>An SSH public key for the user</td></tr><tr><td><a href="broken-reference"><code>network</code></a></td><td>{}</td><td>Defines the network configuration</td></tr><tr><td><code>network.directAttachLoadBalancerIP</code></td><td>Boolean</td><td>Directly attach a loadbalancer IP to the Virtual Server</td></tr><tr><td><code>network.floatingIPs</code></td><td>[]</td><td>A list of service references to be added as floating IPs</td></tr><tr><td><code>network.floatingIPs[ ].serviceName</code></td><td>String</td><td>Name of the service</td></tr><tr><td><code>network.tcp</code></td><td>{}</td><td>Defines the TCP network configuration</td></tr><tr><td><code>network.tcp.ports</code></td><td>[]</td><td>List of TCP ports to expose</td></tr><tr><td><code>network.udp</code></td><td>{}</td><td>Defines the UDP network configuration</td></tr><tr><td><code>network.udp.ports</code></td><td>[]</td><td>List of UDP ports to expose</td></tr><tr><td><code>network.public</code></td><td>Boolean</td><td>Determines whether a public IP will be assigned</td></tr><tr><td><code>network.macAddress</code></td><td>String</td><td>Sets the MAC address for the Virtual Server - if not provided, the Virtual Server generates a unicast/local type MAC address</td></tr><tr><td><code>network.dnsConfig</code></td><td><a href="https://pkg.go.dev/k8s.io/api/core/v1#PodDNSConfig">PodDNSConfig</a></td><td>Defines the DNS parameters of the VS. Defult value is <a href="https://pkg.go.dev/k8s.io/kubernetes/pkg/apis/core#DNSPolicy">DNSClusterFirst</a>.</td></tr><tr><td><code>network.dnsPolicy</code></td><td><a href="https://pkg.go.dev/k8s.io/api/core/v1#DNSPolicy">DNSPolicy</a></td><td>Sets the DNS policy for VS. The default value is <code>ClustrFirst</code></td></tr><tr><td><a href="../virtual-server-configuration-options/region-hardware-and-firmware-1.md#firmware"><code>firmware</code></a></td><td><a href="https://pkg.go.dev/github.com/coreweave/virtual-server/api/v1alpha1#Firmware">Firmware</a></td><td>Firmware identification fields</td></tr><tr><td><code>firmware.UUID</code></td><td>String</td><td>UUID reported by the VMI bios; defaults to a randomly generated UUID</td></tr><tr><td><code>firmware.Serial</code></td><td>String</td><td>The system-serial-number in SMBIOS.</td></tr><tr><td><code>cloudInit [ยน]</code></td><td>String</td><td>Define any <a href="https://cloudinit.readthedocs.io/en/latest/">cloud-init</a> parameters</td></tr><tr><td><a href="../virtual-server-configuration-options/additional-features.md#runstrategy"><code>runStrategy</code></a></td><td><a href="https://pkg.go.dev/kubevirt.io/client-go/api/v1#VirtualMachineRunStrategy">VirtualMachineRunStrategy</a></td><td>Defines the <a href="https://kubevirt.io/user-guide/virtual_machines/run_strategies/#run-strategies">RunStrategy</a> parameter. Default value is <code>RerunOnFailure</code>.</td></tr><tr><td><a href="../virtual-server-configuration-options/additional-features.md#usevirtiotransitional"><code>useVirtioTransitional</code></a></td><td>Boolean</td><td>Enables virtio-transitional to support compatibility with old guest operating systems. Default value is <code>false</code>.</td></tr><tr><td><a href="../virtual-server-configuration-options/additional-features.md#terminationgraceperiodseconds"><code>terminationGracePeriodSeconds</code></a></td><td>Number</td><td>Specifies the number in seconds before the guest is killed. Allows shutting down operating system gracefully. Defaults to <code>300</code> for Windows, <code>60</code> for Linux.</td></tr><tr><td><a href="../virtual-server-configuration-options/additional-features.md#initializerunning"><code>initializeRunning</code></a></td><td>Boolean</td><td>Defines whether or not the Virtual Server will be started as soon as it is created and initialized</td></tr></tbody></table>
